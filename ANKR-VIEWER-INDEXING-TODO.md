# ANKR Viewer Indexing - TODO

**Version:** 1.0
**Date:** 2026-02-13
**Purpose:** Planned improvements for ANKR Interact document viewer and indexing system

---

## üéØ High Priority

### 1. Enhanced Index Generation

**Current State:**
- Static index.html generated by ankr-publish-doc
- Basic file listing with names, sizes, download links
- Manual rebuild with `--rebuild-index` flag

**Improvements Needed:**

- [ ] **Auto-Rebuild on File Upload**
  - Trigger index rebuild automatically when new files are published
  - No need for manual `--rebuild-index` flag
  - Implementation: Add post-copy hook in ankr-publish-doc

- [ ] **Category-Based Organization**
  - Auto-categorize docs by prefix (VYOMO-*, BFC-*, SYSTEM-*, etc.)
  - Collapsible sections in viewer
  - Category filters in UI

- [ ] **Date-Based Grouping**
  - Group documents by creation/modification date
  - "Today", "This Week", "This Month", "Older" sections
  - Timeline view option

- [ ] **Metadata Extraction**
  - Parse markdown frontmatter (title, author, tags, date)
  - Extract first heading as document title
  - Store metadata in JSON index file

### 2. Search & Discovery

**Current State:**
- Browser's Ctrl+F search only
- No content search, only filename search
- No filtering capabilities

**Improvements Needed:**

- [ ] **Full-Text Search**
  - Index document content (not just filenames)
  - Client-side search with Fuse.js or similar
  - Search highlights in results

- [ ] **Tag-Based Filtering**
  - Support tags in document frontmatter
  - Filter by tags in viewer UI
  - Tag cloud visualization

- [ ] **Advanced Filters**
  - Filter by file type (MD, PDF, HTML, JSON)
  - Filter by date range
  - Filter by file size
  - Filter by category

- [ ] **Recent Documents**
  - "Recently Added" section (last 7 days)
  - "Recently Updated" section
  - "Most Viewed" (requires view tracking)

### 3. Viewer Enhancements

**Current State:**
- ANKR Interact React viewer at /project/documents/
- Basic file browsing
- Direct file download

**Improvements Needed:**

- [ ] **In-Browser Markdown Rendering**
  - Render markdown files directly in viewer
  - No need to download to read
  - Syntax highlighting for code blocks
  - Implementation: marked.js + highlight.js

- [ ] **PDF Preview**
  - Preview PDFs without downloading
  - Implementation: PDF.js integration

- [ ] **Quick Preview Modal**
  - Hover preview for markdown files
  - First 5-10 lines shown in tooltip
  - Click to open full view

- [ ] **Document Navigation**
  - Table of contents for long documents
  - Previous/Next document buttons
  - Breadcrumb navigation

- [ ] **Mobile Responsive Design**
  - Optimize viewer for mobile devices
  - Touch-friendly interface
  - Mobile file preview

### 4. Integration with ANKR EON

**Current State:**
- Documents stored as static files
- No AI/semantic search integration
- No automatic indexing into EON memory

**Improvements Needed:**

- [ ] **Automatic EON Indexing**
  - Publish to EON automatically when using ankr-publish-doc
  - Flag: `ankr-publish-doc FILE.md --eon-index`
  - Store embeddings in pgvector for semantic search

- [ ] **AI-Powered Search**
  - Natural language queries: "Show me Vyomo trading algorithms"
  - Semantic similarity search
  - Cross-document context awareness

- [ ] **Document Summarization**
  - Auto-generate summaries for long documents
  - Display summaries in index view
  - LLM-powered extraction of key points

- [ ] **Related Documents**
  - Find related documents using embeddings
  - "Similar Documents" section in viewer
  - Cross-referencing suggestions

---

## üîß Medium Priority

### 5. Version Control & History

- [ ] **Document Versioning**
  - Keep history of document changes
  - View previous versions
  - Diff viewer for markdown

- [ ] **Git Integration**
  - Automatic commit when publishing
  - Track changes in git
  - Link to git history in viewer

- [ ] **Change Notifications**
  - Email/Slack notifications when docs are updated
  - RSS feed for document updates
  - Webhook support

### 6. Collaboration Features

- [ ] **Document Comments**
  - Add comments to specific sections
  - Discussion threads
  - Requires authentication system

- [ ] **Sharing & Permissions**
  - Public vs Private documents
  - Team-only documents
  - Share links with expiration

- [ ] **Edit Suggestions**
  - Propose changes to documents
  - Review and approve workflow
  - Track contribution history

### 7. Analytics & Insights

- [ ] **View Tracking**
  - Count document views
  - Track popular documents
  - Analytics dashboard

- [ ] **Search Analytics**
  - Track search queries
  - Find gaps in documentation
  - Suggest new docs based on queries

- [ ] **Usage Reports**
  - Weekly summary of new/updated docs
  - Most viewed documents report
  - User activity (if auth implemented)

---

## üöÄ Low Priority / Future

### 8. Advanced Publishing

- [ ] **Bulk Upload via UI**
  - Web interface for uploading multiple files
  - Drag-and-drop support
  - Progress indicators

- [ ] **API for Publishing**
  - REST API endpoint: POST /api/publish
  - GraphQL mutation
  - Automated CI/CD publishing

- [ ] **Multi-Format Support**
  - DOCX to Markdown conversion
  - LaTeX rendering
  - Jupyter Notebook (.ipynb) rendering

### 9. Export & Backup

- [ ] **Bulk Export**
  - Download all documents as ZIP
  - Export by category
  - Export by date range

- [ ] **Automatic Backup**
  - Daily backup to S3/MinIO
  - Backup old documents to archive
  - Retention policy (90 days, 1 year, etc.)

- [ ] **Mirror/Sync**
  - Sync to external documentation sites
  - GitBook integration
  - Notion integration

### 10. Content Management

- [ ] **Document Templates**
  - Templates for common doc types
  - System reports, project summaries, etc.
  - Auto-populate with current data

- [ ] **Scheduled Publishing**
  - Publish documents at specific time
  - Unpublish after expiration
  - Content calendar

- [ ] **Document Lifecycle**
  - Draft ‚Üí Review ‚Üí Published workflow
  - Deprecation warnings for old docs
  - Automatic archival of outdated content

---

## üìã Implementation Phases

### Phase 1: Foundation (Week 1-2)
1. Auto-rebuild index on publish
2. Metadata extraction from markdown
3. Category-based organization
4. In-browser markdown rendering

### Phase 2: Search & Discovery (Week 3-4)
1. Full-text search implementation
2. Tag-based filtering
3. Advanced filters (date, type, size)
4. Recent documents section

### Phase 3: EON Integration (Week 5-6)
1. Automatic EON indexing
2. Semantic search with embeddings
3. Document summarization
4. Related documents finder

### Phase 4: Enhancements (Week 7-8)
1. PDF preview
2. Mobile responsive design
3. Version control
4. Analytics tracking

---

## üõ†Ô∏è Technical Stack

### Current
- **Backend:** Static file serving via nginx
- **Frontend:** ANKR Interact (React + Vite)
- **Indexing:** Shell script (ankr-publish-doc)
- **Storage:** /var/www/ankr-landing/project/documents/

### Proposed Additions
- **Search:** Fuse.js (client-side) or MeiliSearch (server-side)
- **Markdown Rendering:** marked.js + highlight.js
- **PDF Preview:** PDF.js
- **Embeddings:** ANKR EON + pgvector
- **State Management:** React Query or Zustand
- **UI Components:** shadcn/ui or Tailwind UI

---

## üìä Success Metrics

- **Discoverability:** Reduce time to find documents by 70%
- **Engagement:** Increase document views by 3x
- **Search Quality:** 90%+ relevant results for queries
- **Mobile Usage:** 50%+ of traffic from mobile devices
- **Automation:** 100% of published docs indexed automatically

---

## üîó Related Documents

- `/root/ANKR-PUBLISH-GUIDE.md` - Publishing documentation
- `/root/VYOMO-13-ALGORITHMS-SUMMARY.md` - Example published document
- `/root/SYSTEM-SUMMARY.md` - System overview

---

## üìù Notes

### Why These Improvements Matter

1. **Current Pain Points:**
   - Hard to find specific documents among 74+ files
   - No way to search content, only filenames
   - Manual index rebuilding
   - No preview capability

2. **Business Value:**
   - Better knowledge management
   - Faster onboarding for new team members
   - Improved documentation discovery
   - Integration with AI systems (EON)

3. **User Experience:**
   - Browse like a modern documentation site
   - Search naturally with plain language
   - Preview before downloading
   - Mobile-friendly access

### Quick Wins (Can Implement Today)

1. **Auto-rebuild on publish** (30 mins)
   ```bash
   # Modify ankr-publish-doc to always rebuild
   # No breaking changes, just removes manual flag
   ```

2. **Category extraction** (1 hour)
   ```bash
   # Parse filename prefix (VYOMO-, BFC-, etc.)
   # Group in index.html by category
   ```

3. **Date grouping** (1 hour)
   ```bash
   # Use file modification time
   # Create "Today", "This Week", "Older" sections
   ```

4. **Markdown preview** (2 hours)
   ```typescript
   // Add marked.js to ANKR Interact
   // Render .md files in browser
   ```

---

**Last Updated:** 2026-02-13
**Status:** Planning
**Owner:** ANKR Labs
**Priority:** High

